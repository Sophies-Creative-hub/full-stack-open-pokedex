name: Automatischer PR-Ersteller

on:
  push:
    branches:
      - versioning # Hier den Branch angeben, der überwacht werden soll

jobs:
  create_pr:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout Repository
      uses: actions/checkout@v2

    - name: Installiere GitHub CLI
      run: |
        sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-key C99B11DEB97541F0
        sudo apt-add-repository https://cli.github.com/packages
        sudo apt-get update
        sudo apt-get install gh
      shell: bash

    - name: Create Pull Request
      run: |
        hub pr create -b "master" -h "versioning" -m "PR Überschrift" -m "PR Beschreibung"
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}